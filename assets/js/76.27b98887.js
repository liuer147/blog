(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{609:function(s,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"ln-创建硬链接和符号链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ln-创建硬链接和符号链接"}},[s._v("#")]),s._v(" "),t("code",[s._v("ln -- 创建硬链接和符号链接")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ln file link_")]),s._v("：在"),t("code",[s._v("link")]),s._v("出创建一个指向"),t("code",[s._v("file")]),s._v("的硬链接")]),s._v(" "),t("li",[t("code",[s._v("ln -s item link")]),s._v("：在"),t("code",[s._v("link")]),s._v("出创建一个指向"),t("code",[s._v("item")]),s._v("的符号链接")])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建硬链接  ->  file是相对于当前操作目录的")]),s._v("\nln fun fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hard\nln fun dir1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hard\nln fun dir2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hard\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// 创建符号链接  -> item路径"../fun"，是相对于符号链接所在的目录的')]),s._v("\nln "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s fun fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sym\nln "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun dir1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sym\nln "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun dir2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fun"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sym\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h4",{attrs:{id:"硬链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#硬链接"}},[s._v("#")]),s._v(" 硬链接")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("硬链接是最早的`UNIX`创建链接的方式。在**_默认情况下_**，**每个文件只有一个硬链接，由其为文件赋予名称.**(_文件名是根据硬链接而来的？_)。\n")])])]),t("p",[s._v("硬链接有两个限制：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("不能引用其所在文件系统(即磁盘分区)之外的文件")])]),s._v(" "),t("li",[t("strong",[s._v("不能引用目录")])])]),s._v(" "),t("p",[s._v("其他：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("我们无法区分硬链接及其引用的文件。")])]),s._v(" "),t("li",[t("strong",[s._v("删除硬链接，消失的是该链接本身。文件内容仍然存在，直到文件的所有硬链接全部被删除")])])]),s._v(" "),t("blockquote",[t("p",[s._v("可以理解为：文件名为指针，文件内容为磁盘内容。每个文件名相当于一个硬链接")])]),s._v(" "),t("h4",{attrs:{id:"符号链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#符号链接"}},[s._v("#")]),s._v(" 符号链接")]),s._v(" "),t("ul",[t("li",[s._v("符号链接又叫软链接，是为了克服硬链接的限制而出现的。")]),s._v(" "),t("li",[s._v("工作原理是："),t("strong",[t("em",[s._v("创建一种特殊类型的文件，"),t("strong",[s._v("内含一段指向__被引用文件或目录的__文件指针")]),s._v("。")])])]),s._v(" "),t("li",[s._v("绝大多数文件**"),t("em",[s._v("操作的目标是链接指向的文件")]),t("strong",[s._v("，而非链接本身。"),t("code",[s._v("**rm**")]),t("strong",[s._v("是个例外")]),s._v("，它是")]),t("em",[s._v("删除链接本身")]),s._v("**。")]),s._v(" "),t("li",[s._v("符号链接**"),t("em",[s._v("弥补")]),s._v("**了硬链接的两个不足：\n"),t("ul",[t("li",[s._v("硬链接不能跨物理设备")]),s._v(" "),t("li",[s._v("硬链接不能引用目录")])])])]),s._v(" "),t("h3",{attrs:{id:"其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),t("ul",[t("li",[s._v("如何判断两个文件或硬链接是否是同一个文件？")])]),s._v(" "),t("p",[s._v("执行"),t("code",[s._v("ls -li")]),s._v("，输出结果中，第一个字段表示该文件指向磁盘块内容的特定结点。如果第一个字段内容一样，就表示两者是同一个文件")]),s._v(" "),t("h4",{attrs:{id:"软连接与硬链接的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软连接与硬链接的区别"}},[s._v("#")]),s._v(" 软连接与硬链接的区别")]),s._v(" "),t("ul",[t("li",[s._v("软连接通过"),t("code",[s._v("ln -s")]),s._v("创建，硬链接通过"),t("code",[s._v("ln")]),s._v("创建。")]),s._v(" "),t("li",[s._v("硬链接指向文件信息inode区域（文件名本身就相当于一个硬链接），软链接指向某个位置的文件（包含某个文件的路径）。")]),s._v(" "),t("li",[s._v("只能给文件创建硬链接，目录不能创建硬链接")]),s._v(" "),t("li",[s._v("删除的后果\n"),t("ul",[t("li",[s._v("删除源文件，软链接失效（红底白色闪烁），硬链接可以继续访问与使用。文件还在")]),s._v(" "),t("li",[s._v("删除软链接，对于其他没有影响，文件还在")]),s._v(" "),t("li",[s._v("删除硬链接，对源文件，软链接没有影响。文件还在")]),s._v(" "),t("li",[s._v("删除文件所有的硬链接，文件则无法访问，文件不在了")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);