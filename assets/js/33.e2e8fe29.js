(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{519:function(s,t,a){s.exports=a.p+"assets/img/1665576373933-eee22501-d41e-47b5-86a0-e2205b0a3562.0e9850f8.png"},520:function(s,t,a){s.exports=a.p+"assets/img/1665729585515-395a9f88-6b9c-4828-91eb-85eeb5f8fc1b.78ff5f9b.png"},608:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"linux用户分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux用户分类"}},[s._v("#")]),s._v(" "),t("code",[s._v("Linux")]),s._v("用户分类")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("uid")]),s._v("用户身份证号码")]),s._v(" "),t("li",[t("code",[s._v("gid")]),s._v("用户的户口本号码")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[t("em",[s._v("用户分类")])])]),s._v(" "),t("th",[t("strong",[t("em",[s._v("含义")])])]),s._v(" "),t("th",[t("strong",[t("em",[s._v("uid")])])])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("root")]),s._v("用户")]),s._v(" "),t("td",[s._v("最高权限用户")]),s._v(" "),t("td",[t("code",[s._v("0")]),s._v("（只要uid为"),t("code",[s._v("0")]),s._v("，那么他就是"),t("code",[s._v("root")]),s._v("用户）")])]),s._v(" "),t("tr",[t("td",[s._v("普通用户")]),s._v(" "),t("td",[s._v("只对自己家目录拥有权限的用户")]),s._v(" "),t("td",[s._v("1000开始（"),t("code",[s._v("CentOS7.8")]),s._v("）（"),t("code",[s._v("CentOS 6")]),s._v("是500）")])]),s._v(" "),t("tr",[t("td",[s._v("虚拟用户（傀儡用户）")]),s._v(" "),t("td",[s._v("这种用户存在适用于让一些服务正常运行，一些服务运行需要指定用户")]),s._v(" "),t("td",[t("code",[s._v("0-999")]),s._v("（非唯一判断标准）")])])])]),s._v(" "),t("h3",{attrs:{id:"用户相关文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户相关文件"}},[s._v("#")]),s._v(" 用户相关文件")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("/etc/passwd")]),s._v("：存放用户信息（非密码信息）")]),s._v(" "),t("li",[t("code",[s._v("/etc/group")]),s._v("：存放用户组的信息")]),s._v(" "),t("li",[t("code",[s._v("/etc/shadow")]),s._v("：存放用户的密码信息")]),s._v(" "),t("li",[t("code",[s._v("/etc/gshadow")]),s._v("：存放用户组的密码信息")]),s._v(" "),t("li",[t("code",[s._v("/etc/profile")]),s._v("：环境变量（PS1），别名配置文件（alias）")]),s._v(" "),t("li",[t("code",[s._v("/etc/bashrc")]),s._v("：别名配置文件")]),s._v(" "),t("li",[t("code",[s._v("~/.bashrc")])]),s._v(" "),t("li",[t("code",[s._v("~/.bash_profile")])])]),s._v(" "),t("blockquote",[t("p",[s._v("查看系统有多少个用户，可以查看"),t("code",[s._v("/etc/passwd")]),s._v("有多少记录")])]),s._v(" "),t("h4",{attrs:{id:"etc-passwd每一列的含义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#etc-passwd每一列的含义"}},[s._v("#")]),s._v(" "),t("code",[s._v("/etc/passwd")]),s._v("每一列的含义")]),s._v(" "),t("ul",[t("li",[s._v("虚拟用户的家目录路径各种情况都有，没有规律可言。"),t("strong",[t("em",[s._v("其家目录不一定存在")])])]),s._v(" "),t("li",[t("strong",[s._v("判断是否是虚拟用户的重要依据是命令解释器")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("/bin/bash(CentOS) or /bin/dash(Ubuntu)")]),t("strong",[s._v("：")]),t("code",[s._v("root")]),t("strong",[s._v("用户或普通用户")])]),s._v(" "),t("li",[t("code",[s._v("/sbin/nologin")]),s._v(" "),t("strong",[s._v("：虚拟用户")])])])]),s._v(" "),t("li",[s._v("将密码标记列的"),t("code",[s._v("x")]),s._v("删掉的话，对应用户就没有密码了\n"),t("img",{attrs:{src:a(519),alt:"image.png"}})])]),s._v(" "),t("h3",{attrs:{id:"用户相关目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户相关目录"}},[s._v("#")]),s._v(" 用户相关目录")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("/etc/skel")]),t("strong",[t("em",[s._v("：用户家目录的模板，添加用户时，用户的家目录会从这里复制")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$  ll "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" /etc/skel\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\ndrwxr-xr-x.  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" Jun "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x. "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192")]),s._v(" Oct  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":20 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-r--r--.  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" .bash_logout\n-rw-r--r--.  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("141")]),s._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" .bash_profile\n-rw-r--r--   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("376")]),s._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" .bashrc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[t("code",[s._v(".bash_logout")]),s._v("：用户退出时，执行里面的命令")]),s._v(" "),t("li",[t("code",[s._v(".bash_profile")]),s._v("：配置环境变量")]),s._v(" "),t("li",[t("code",[s._v(".bashrc")]),s._v("：配置别名")]),s._v(" "),t("li",[t("code",[s._v("/etc/profile.d")]),t("strong",[t("em",[s._v("：用户登录系统后会执行这个目录下面以")])]),t("code",[s._v(".sh")]),t("strong",[t("em",[s._v("结尾的文件。(详细应用")])]),t("code",[s._v("DevOps")]),t("strong",[t("em",[s._v(")")])])])]),s._v(" "),t("h3",{attrs:{id:"故障案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#故障案例"}},[s._v("#")]),s._v(" 故障案例")]),s._v(" "),t("ul",[t("li",[t("em",[t("strong",[s._v("现象：")])]),s._v(" 输入命令的时候，命令行提示符"),t("code",[s._v("[用户名@liuer ~]$")]),s._v("变成"),t("code",[s._v("-bash-4.1$")]),s._v("或"),t("code",[s._v("-bash-4.2$")]),s._v("样子。")]),s._v(" "),t("li",[t("strong",[t("em",[s._v("原因：")])]),s._v(" 用户不小心删除了当前用户家目录下面的环境变量相关的文件"),t("code",[s._v(".bash*")]),s._v("。")]),s._v(" "),t("li",[t("strong",[t("em",[s._v("解决：")])]),s._v(" 从"),t("code",[s._v("/etc/skel/.bash*")]),s._v("复制到当前用户家目录，重新登录即可。")])]),s._v(" "),t("h3",{attrs:{id:"用户管理命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户管理命令"}},[s._v("#")]),s._v(" 用户管理命令")]),s._v(" "),t("h3",{attrs:{id:"增加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加用户"}},[s._v("#")]),s._v(" 增加用户")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("useradd")]),s._v("添加用户：基本用法"),t("code",[s._v("useradd xxx")])]),s._v(" "),t("li",[t("code",[s._v("adduser")]),s._v("添加用户")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[t("em",[s._v("选项")])])]),s._v(" "),t("th")])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("-s")])]),s._v(" "),t("td",[s._v("添加用户的时候指定用户的命令解释器，如果不指定则默认是"),t("code",[s._v("/bin/bash")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-M")])]),s._v(" "),t("td",[s._v("添加用户的时候不创建家目录。(一般与"),t("code",[s._v("-s")]),s._v("一起使用"),t("code",[s._v("-Ms")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-u")])]),s._v(" "),t("td",[s._v("添加用户的时候指定"),t("code",[s._v("uid")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-r")])]),s._v(" "),t("td",[t("em",[s._v("添加系统用户（不创建目录，")]),t("code",[s._v("_uid 1-999_")]),t("em",[s._v("，命令解释器")]),t("code",[s._v("_bash_")]),t("em",[s._v("）")])])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-G")])]),s._v(" "),t("td",[s._v("附加组（额外组）：添加用户的时候，让用户属于多个组")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-g")])]),s._v(" "),t("td",[s._v("主要组（原生组）：替换默认创建的组")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll /usr/sbin/useradd /usr/sbin/adduser\nlrwxrwxrwx "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" /usr/sbin/adduser -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v("\n-rwxr-xr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("147344")]),s._v(" Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" /usr/sbin/useradd\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 1、添加普通用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v(" /etc/passwd\ntcpdump:x:72:72::/:/sbin/nologin\nnscd:x:28:28:NSCD Daemon:/:/sbin/nologin\nadmin:x:1000:1000::/home/admin:/bin/bash\nmysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/false\ntest:x:1001:1001::/home/test:/bin/bash\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 添加虚拟用户（命令解释器为/sbin/nologin，且不创建家目录） -> 好像并不是真正意义上的虚拟用户(uid大于1000)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## (是否可以配合-r来使用) -> 是可以")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 无法登录系统的用户，也无法切换到这个用户(家目录不存在)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /sbin/nologin "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v(" test_2\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v(" /etc/passwd\nnscd:x:28:28:NSCD Daemon:/:/sbin/nologin\nadmin:x:1000:1000::/home/admin:/bin/bash\nmysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/false\ntest:x:1001:1001::/home/test:/bin/bash\ntest_2:x:1002:1002::/home/test_2:/sbin/nologin\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看家目录 -> 发现并没有/home/test_2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll /home\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndrwx------ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" admin admin "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("140")]),s._v(" Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":17 admin\ndrwx------ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" Oct "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":48 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("blockquote",[t("p",[s._v("添加用户之后，我们可以发现"),t("code",[s._v("/etc/passwd")]),s._v("文件增加了一条记录")])]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("linux")]),s._v("中添加一个人就会多一个对应的组。命令："),t("code",[s._v("id xxx")]),s._v("查看指定用户或当前用户的信息")])]),s._v(" "),t("h3",{attrs:{id:"切换用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换用户"}},[s._v("#")]),s._v(" 切换用户")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("su")]),s._v("切换用户"),t("code",[s._v("switch user")]),s._v(" -> 格式："),t("code",[s._v("su - xxx")])]),s._v(" "),t("li",[t("code",[s._v("ctrl + d")]),s._v("退出当前用户，可以一直操作知道初始登录者")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("code",[s._v("su")]),t("strong",[t("em",[s._v("选项")])])]),s._v(" "),t("th")])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("-")]),s._v("，"),t("code",[s._v("-l")]),s._v("，"),t("code",[s._v("-login")])]),s._v(" "),t("td",[s._v("切换用户的时候，更新下用户的环境变量")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('## su命令的"-"加与不加的区别')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAIL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/spool/mail/root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LOGNAME")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 切换用户 -- 不加"-"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("test@liuer root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAIL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/spool/mail/root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/test/.local/bin:/home/test/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 切换用户 -- 加"-"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\nLast login: Fri Oct "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":04:38 CST "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v(" on pts/0\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("test@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" root\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("test@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ \n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h3",{attrs:{id:"修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("passwd [user]")]),s._v("：修改指定用户或当前用户的密码")]),s._v(" "),t("li",[s._v("非交互式设置密码(只有"),t("code",[s._v("root")]),s._v("用户才可以执行此操作)："),t("code",[s._v("echo '密码' | passwd --stdin 用户")]),s._v("。")])]),s._v(" "),t("h3",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("userdel xxx")]),s._v(" ：删除用户的时候只删除用户的信息，不会删除用户的家目录，邮件文件...")]),s._v(" "),t("li",[t("code",[s._v("userdel -r xxx")]),s._v("：彻底删除用户，包括用户的家目录，邮件文件。（不推荐）")])]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("不推荐删除用户！！")]),s._v(" "),t("strong",[s._v("如果非要删除，可以在")]),t("code",[s._v("**/etc/passwd**")]),t("strong",[s._v("中注释掉用户")])])]),s._v(" "),t("h3",{attrs:{id:"修改用户信息-了解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改用户信息-了解"}},[s._v("#")]),s._v(" 修改用户信息（了解）")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("usermod")]),s._v("：修改已存在的用户的信息，"),t("code",[s._v("useradd")]),s._v("添加用户时候设置的信息，"),t("code",[s._v("usermod")]),s._v("都可以改。")]),s._v(" "),t("li",[t("code",[s._v("usermod")]),s._v("：它的选项和"),t("code",[s._v("useradd")]),s._v("类似。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 修改用户组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-G")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@liuer ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"查看用户信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看用户信息"}},[s._v("#")]),s._v(" 查看用户信息")]),s._v(" "),t("ul",[t("li",[s._v("查看用户基本信息\n"),t("ul",[t("li",[t("code",[s._v("whoami")]),s._v("：显示当前用户的名字")]),s._v(" "),t("li",[t("code",[s._v("id")]),s._v("：查看当前或指定用户的信息（"),t("code",[s._v("uid")]),s._v("、"),t("code",[s._v("gid")]),s._v("、用户组信息）")])])]),s._v(" "),t("li",[s._v("查看用户登录情况\n"),t("ul",[t("li",[t("code",[s._v("w")])])])])]),s._v(" "),t("p",[t("img",{attrs:{src:a(520),alt:"image.png"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v("last")]),s._v("：查看用户的登录情况。")]),s._v(" "),t("li",[t("code",[s._v("lastlog")]),s._v("：查看所有用户的最近一次登录情况。")])]),s._v(" "),t("h2",{attrs:{id:"用户组命令-了解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户组命令-了解"}},[s._v("#")]),s._v(" 用户组命令(了解)")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("groupadd")]),s._v("：添加用户组")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#案例 企业案例\t\t\t\t添加用户的时候保证用户和用户组uid，gid一致")]),s._v("\n\n如果直接添加的时候uid，gid一致，那么需要先添加用户组，然后创建用户\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),s._v(" mysqlv2\t\t\t\t\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -g指定gid")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("888")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" mysqlv2 mysqlv2 \t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -g指定用户组")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);